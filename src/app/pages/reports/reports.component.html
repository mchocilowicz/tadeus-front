<app-nav>
    <div *ngIf="hasData">
        <div>
            <mat-form-field>
                <mat-select [(ngModel)]="selectedDate" placeholder="{{'reports.filterDates' | translate}}">
                    <mat-option value=""></mat-option>
                    <mat-option *ngFor="let date of dates" [value]="date">{{date}}</mat-option>
                </mat-select>
            </mat-form-field>
            <button (click)="onSearchClick()" [disabled]="!isDateSelected()">{{'reports.search' | translate}}</button>
        </div>
        <div class="mat-elevation-z8">
            {{'reports.ngo.title' | translate}}
            <table [dataSource]="ngoDataSource" mat-table matSort>
                <ng-container matColumnDef="ID">
                    <th *matHeaderCellDef mat-header-cell mat-sort-header> {{'reports.id' | translate}}</th>
                    <td *matCellDef="let element" mat-cell>{{element.ID}}</td>
                </ng-container>

                <ng-container matColumnDef="name">
                    <th *matHeaderCellDef mat-header-cell mat-sort-header> {{'reports.name' | translate}}</th>
                    <td *matCellDef="let element" mat-cell>{{element.name}}</td>
                </ng-container>
                <ng-container matColumnDef="users">
                    <th *matHeaderCellDef mat-header-cell mat-sort-header>{{'reports.users' | translate}}</th>
                    <td *matCellDef="let element" mat-cell>{{element.usersCount}}</td>
                </ng-container>

                <ng-container matColumnDef="donations">
                    <th *matHeaderCellDef mat-header-cell mat-sort-header> {{'reports.donation' | translate}}</th>
                    <td *matCellDef="let element" mat-cell> {{element.donations}} </td>
                </ng-container>

                <ng-container matColumnDef="count">
                    <th *matHeaderCellDef mat-header-cell mat-sort-header>{{'reports.ngo.partners' | translate}}</th>
                    <td *matCellDef="let element" mat-cell> {{element.count}} </td>
                </ng-container>

                <ng-container matColumnDef="list">
                    <th *matHeaderCellDef mat-header-cell mat-sort-header> {{'reports.ngo.list' | translate}}</th>
                    <td *matCellDef="let element" mat-cell>
                        <ul>
                            <li *ngFor="let item of element.list">{{item.ID}} {{item.name}}</li>
                        </ul>
                    </td>
                </ng-container>

                <tr *matHeaderRowDef="displayedColumns" mat-header-row></tr>
                <tr *matRowDef="let row; columns: displayedColumns;" mat-row></tr>
            </table>
        </div>

        <div class="mat-elevation-z8">
            {{'reports.partner.title' | translate}}
            <table [dataSource]="tradingPointDataSource" mat-table matSort>
                <ng-container matColumnDef="ID">
                    <th *matHeaderCellDef mat-header-cell mat-sort-header> {{'reports.id' | translate}}</th>
                    <td *matCellDef="let element" mat-cell>{{element.ID}}</td>
                </ng-container>

                <ng-container matColumnDef="name">
                    <th *matHeaderCellDef mat-header-cell mat-sort-header> {{'reports.name' | translate}}</th>
                    <td *matCellDef="let element" mat-cell>{{element.name}}</td>
                </ng-container>
                <ng-container matColumnDef="users">
                    <th *matHeaderCellDef mat-header-cell mat-sort-header>{{'reports.users' | translate}}</th>
                    <td *matCellDef="let element" mat-cell>{{element.usersCount}}</td>
                </ng-container>

                <ng-container matColumnDef="donations">
                    <th *matHeaderCellDef mat-header-cell mat-sort-header> {{'reports.donation' | translate}}</th>
                    <td *matCellDef="let element" mat-cell> {{element.donations}} </td>
                </ng-container>

                <ng-container matColumnDef="count">
                    <th *matHeaderCellDef mat-header-cell mat-sort-header>{{'reports.partner.ngo' | translate}}</th>
                    <td *matCellDef="let element" mat-cell> {{element.count}} </td>
                </ng-container>

                <ng-container matColumnDef="list">
                    <th *matHeaderCellDef mat-header-cell mat-sort-header> {{'reports.partner.list' | translate}}</th>
                    <td *matCellDef="let element" mat-cell>
                        <ul>
                            <li *ngFor="let item of element.list">{{item.ID}} {{item.name}}</li>
                        </ul>
                    </td>
                </ng-container>

                <tr *matHeaderRowDef="displayedColumns" mat-header-row></tr>
                <tr *matRowDef="let row; columns: displayedColumns;" mat-row></tr>
            </table>
        </div>
    </div>
</app-nav>