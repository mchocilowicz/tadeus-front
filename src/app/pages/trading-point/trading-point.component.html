<app-nav>
    <mat-accordion>
        <mat-expansion-panel>
            <mat-expansion-panel-header>
                <mat-panel-title>
                    Filtry
                </mat-panel-title>
            </mat-expansion-panel-header>

            <div class="filter-container">
                <mat-form-field>
                    <input [(ngModel)]="name" matInput placeholder="Nazwa Partnera">
                </mat-form-field>
                <mat-form-field>
                    <mat-select [(ngModel)]="type" placeholder="Typ">
                        <mat-option value=""></mat-option>
                        <mat-option *ngFor="let type of types" [value]="type.id">{{type.name}}</mat-option>
                    </mat-select>
                </mat-form-field>
                <mat-form-field>
                    <mat-select [(ngModel)]="city" placeholder="Miasto">
                        <mat-option value=""></mat-option>
                        <mat-option *ngFor="let city of cities" [value]="city.id">{{city.name}}</mat-option>
                    </mat-select>
                </mat-form-field>
                <button (click)="onFilterClick()">Szukaj</button>
            </div>
        </mat-expansion-panel>
    </mat-accordion>

    <div class="mat-elevation-z8">
        <table [dataSource]="dataSource" mat-table matSort>
            <mat-text-column name="ID"></mat-text-column>
            <mat-text-column name="name"></mat-text-column>
            <mat-text-column name="email"></mat-text-column>

            <ng-container matColumnDef="phone">
                <th *matHeaderCellDef mat-header-cell mat-sort-header> Numer telefonu</th>
                <td *matCellDef="let element" mat-cell> +{{element.prefix}}{{element.phone}} </td>
            </ng-container>

            <ng-container matColumnDef="type">
                <th *matHeaderCellDef mat-header-cell mat-sort-header> Typ</th>
                <td *matCellDef="let element" mat-cell> {{element.type}} </td>
            </ng-container>

            <ng-container matColumnDef="city">
                <th *matHeaderCellDef mat-header-cell mat-sort-header>Miasto</th>
                <td *matCellDef="let element" mat-cell> {{element.city}} </td>
            </ng-container>

            <tr *matHeaderRowDef="displayedColumns" mat-header-row></tr>
            <tr (click)="onRowClick(row)" *matRowDef="let row; columns: displayedColumns;" class="trading-point-row"
                mat-row></tr>
        </table>
    </div>
    <button (click)="openDialog()">Import</button>

</app-nav>
